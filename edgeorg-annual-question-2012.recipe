#!/usr/bin/env  python
__copyright__ = '2013, Catalin Iacob <iacobcatalin at gmail.com>'

__license__   = 'GPL v3'

'''
calibre recipe for an ebook from Edge.org's annual question
'''

from calibre.web.feeds.recipes import BasicNewsRecipe

class EdgeOrgAnnualQuestionRecipe(BasicNewsRecipe):
    description = "To arrive at the edge of the world's knowledge, seek out the most complex and sophisticated minds, put them in a room together, and have them ask each other the questions they are asking themselves."
    __author__  = 'Catalin Iacob'

    title = 'Edge.org 2012'

    timefmt = ''
    no_stylesheets = True
    language = 'en'
    encoding = 'utf-8'
    keep_only_tags = {'id':'main-content'}

    conversion_options = {'use_auto_toc': True,
                          'level1_toc': '//*[contains(concat(" ", @class, " "), " response ")]//*/h:p/h:strong[1]'
                          }

    def parse_index(self):
        feeds = [(self.title, [{'title': "What is your favorite deep, elegant, or beautiful explanation?",
                                'url': 'http://edge.org/responses/what-is-your-favorite-deep-elegant-or-beautiful-explanation',
                                'description': '',
                                'date': ''
                                }
                               ],
                  ),
                 ]

        return feeds
